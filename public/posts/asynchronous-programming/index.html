<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Asynchronous Programming | Randy Moore</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.72.0" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.4fc0b62e4b82c997bb0041217cd6b979.css" rel="stylesheet">
    

    

    
      

    

    
    
    <meta property="og:title" content="Asynchronous Programming" />
<meta property="og:description" content="Why Care? Browsing through job postings you often notice a job requirement along the lines of:
 Able to write highly efficient asynchronous code.
 A fleeting thought:
&ldquo;Ah this just means writing efficient code in terms of Big-O and then split and farm out work to it by using a solution (language feature, library, framework, &hellip;) someone else has already come up with.&rdquo;
You skip over this requirement without much more thought." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://randalmoore.me/posts/asynchronous-programming/" />
<meta property="article:published_time" content="2017-06-19T00:00:00+00:00" />
<meta property="article:modified_time" content="2017-06-19T00:00:00+00:00" />
<meta itemprop="name" content="Asynchronous Programming">
<meta itemprop="description" content="Why Care? Browsing through job postings you often notice a job requirement along the lines of:
 Able to write highly efficient asynchronous code.
 A fleeting thought:
&ldquo;Ah this just means writing efficient code in terms of Big-O and then split and farm out work to it by using a solution (language feature, library, framework, &hellip;) someone else has already come up with.&rdquo;
You skip over this requirement without much more thought.">
<meta itemprop="datePublished" content="2017-06-19T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2017-06-19T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1771">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Asynchronous Programming"/>
<meta name="twitter:description" content="Why Care? Browsing through job postings you often notice a job requirement along the lines of:
 Able to write highly efficient asynchronous code.
 A fleeting thought:
&ldquo;Ah this just means writing efficient code in terms of Big-O and then split and farm out work to it by using a solution (language feature, library, framework, &hellip;) someone else has already come up with.&rdquo;
You skip over this requirement without much more thought."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Randy Moore
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/posts/" title="Posts page">
              Posts
            </a>
          </li>
          
        </ul>
      
      







<a href="https://www.linkedin.com/in/randal-a-moore/" target="_blank" class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>


<a href="https://github.com/RandyMoore" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>








    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      





      <h1 class="f1 athelas mt3 mb1">Asynchronous Programming</h1>
      
      
      <time class="f6 mv4 dib tracked" datetime="2017-06-19T00:00:00Z">June 19, 2017</time>

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><h3 id="why-care">Why Care?</h3>
<p>Browsing through job postings you often notice a job requirement along the lines of:</p>
<blockquote>
<p>Able to write highly efficient asynchronous code.</p>
</blockquote>
<p>A fleeting thought:</p>
<p>&ldquo;Ah this just means writing efficient code in terms of Big-O and then split and farm out work to it by using a solution (language feature, library, framework, &hellip;) someone else has already come up with.&rdquo;</p>
<p>You skip over this requirement without much more thought.  A few days later you are in an interview and get asked the seminal &ldquo;What&rsquo;s the difference between a process and a thread?&rdquo;.   Huh? Why is that a relevant question?  You already know processes and threads are low level OS stuff.  We don&rsquo;t program in assembly language any more - why be concerned with OS primitives?</p>
<p>Writing efficient asynchronous code does have the prerequisite that your code is efficient and you are skilled at using pre-existing code.  But there is (at least) one additional skill required here: choosing and effectively implementing the asynchronous paradigm that fits the problem you are trying to solve.  When the interviewer asked you about process vs thread they were quickly checking the tip of the iceberg of what they hope you already know about asynchronous programming.  Hopefully you know this stuff, otherwise in the design interview you will be yielding blank stares instead of solutions.</p>
<h3 id="problem-space">Problem Space</h3>
<p>So what is the high level problem to be solved with the skill of writing &ldquo;Efficient Asynchronous Code&rdquo;?  Just writing efficient code in terms of algorithmic complexity will optimize resource usage: CPU cycles and / or memory.  The addition of &ldquo;Asynchronous&rdquo; implies that different parts of your code may more freely execute when needed, less constrained by their location in the source code file.</p>
<p>The asynchronous aspect is expected to yield scalar benefit because all it considers is when code executes given the same input, using the same algorithms.  In contrast, the goal of algorithmic efficiency tuning is an asymptotic benefit given increasing input size.  So why bother with a mere scalar increase?  At some point processing takes a minimum amount of time.  When you have many tasks taking some non-trivial amount of time, the ability to order and potentially parallelize them can have a significant impact on overall (calendar) run time.</p>
<p>There are 2 categories of what causes calendar wait times:</p>
<ol>
<li>CPU Bound - Time required to process data
<ul>
<li>Can alternatively be addressed by a more efficient algorithm</li>
</ul>
</li>
<li>I/O Bound - Time required to move data
<ul>
<li>Can alternatively be addressed by caching</li>
</ul>
</li>
</ol>
<p>Skillful application of asynchronous processing technique allows you to parallelize such time bound tasks to reduce overall calendar wait time as much as possible.  In the world of a web service platform scalar gains (2X, 3X etc) would be seen as phenomenal wins.  Even marginal gains (10%) are <a href="https://blog.kissmetrics.com/loading-time/">valuable</a>.</p>
<h3 id="building-blocks">Building Blocks</h3>
<p>That interview question about process vs thread is checking the relationship between 2 nodes in a knowledge graph required to select the building blocks required for an overall solution.</p>
<p>In a nutshell:  The operating system creates and manages processes, each having it&rsquo;s own address space.  The operating system may also create additional threads within a process (this is generally done using the language of your choice interfacing with the OS).  Threads share the address space of the process, allocating off the same heap and also able to share references to arbitrary memory in the address space.  Some languages additionally support <a href="https://en.wikipedia.org/wiki/Coroutine">coroutines</a> which have their own stack but which execute within a thread.  This leads to 3 choices each of where to allocate execution and data: Processes, Threads, or Coroutines.</p>
<p><img src="/images/BuildingBlocks_ProcessThread.png" alt="Process vs Thread"></p>
<p>Of course this diagram is a simplification only showing a small subset of possibilities for the instances of {Process, Thread, Coroutine} that could exist.  For example there could be many processes, processes can spawn child processes, and there can be many instances of coroutines.  Only stacks are shown but of course other local data such as the program counter for each executable instance would need to exist.  Additionally different computing environments have different setups; e.g. a particular programming language implementation may manage threads instead of the OS (known as &ldquo;green&rdquo; threads).  Always read the docs (and blogs, tutorials, etc) related to your particular environment.</p>
<p>So how do you decide where to allocate processing?  Here are some pros and cons to consider for each:</p>
<ol>
<li>
<p>Multiple processes</p>
<p>Pros</p>
<ul>
<li>True parallelism, will work for increasing overall performance of CPU bound tasks.</li>
<li>Separate address space for each process instance, no need to worry about resource contention within the program (external resource contention may still exist, e.g. multiple processes writing to a single file).</li>
<li>Easiest to reason about.  Only 1 entry point for execution.</li>
<li>For *nix platform easiest to reuse as a modular component with OS provided IPC mechanisms (eg combining small programs with pipe &lsquo;|&rsquo; on the command prompt).</li>
</ul>
<p>Cons</p>
<ul>
<li>Heavy weight.  Each process has it&rsquo;s own copy of program data, etc.  In addition to memory processes generally use other limited OS resources more heavily than the other options.</li>
</ul>
</li>
<li>
<p>Multiple threads</p>
<p>Pros</p>
<ul>
<li>Lighter weight than processes.  Threads share the data and heap portion of process memory.</li>
<li>May offer true parallelism for CPU bound tasks.  Check your computing environment implementation docs to be sure.</li>
</ul>
<p>Cons</p>
<ul>
<li>Resource contention within the process address space may be complicated to deal with, especially if the threads can be run in parallel and / or are scheduled by the OS.</li>
<li>Difficult to reason about because a thread may be suspended at any time and have another thread change it&rsquo;s environment.</li>
</ul>
</li>
<li>
<p>Coroutines</p>
<p>Pros</p>
<ul>
<li>Explicit control of when code is executing and when it is not executing, easier to reason about because you don&rsquo;t have to account for suspension in every possible location.</li>
<li>Language support reduces complexity of gathering results.  Generally the result replaces the task in your code.  i.e. a list of tasks becomes a list of results from those tasks; no need to implement code to collect results (ie callbacks, global data structures, etc).</li>
</ul>
<p>Cons</p>
<ul>
<li>Does not offer local parallelism.  Only 1 coroutine may be running at a given time in the thread it shares with other coroutines.</li>
<li>Requires implementation discipline.  It is easy to introduce blocking code which freezes your thread and subsequently all other coroutines on the thread for that duration.  Blocking code could even be part of a 3rd party library - the libraries you use need to be compatible!</li>
</ul>
</li>
</ol>
<p>Once the nature of the tasks (IO or CPU bound?) are identified along with the usability features desired for the code some combination of these options should surface as a winner.</p>
<p>Here are two code examples (at least Python 3.5 is required) to illustrate the execution difference between threads and coroutines.  Specifically these examples illustrate how coroutine execution is more explicit and deterministic as opposed to the willy-nilly execution that threads enjoy (but the rest of us don&rsquo;t). Thread and process execution is similar (both willy-nilly) so a process example is not included here.  Each example contains 3 kinds of tasks.  A CPU bound task, 4 IO bound tasks of varying lengths, and a polling task that wants to recur.</p>
<p>First, multi threading:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> sample
<span style="color:#f92672">from</span> time <span style="color:#f92672">import</span> sleep, time
<span style="color:#f92672">from</span> threading <span style="color:#f92672">import</span> Thread

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">io_bound</span>(s, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;IO bound&#34;</span>):
    <span style="color:#66d9ef">print</span>(label <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; started&#34;</span>)
    sleep(s)
    <span style="color:#66d9ef">print</span>(label <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; finished&#34;</span>)

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">cpu_bound</span>(s, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;CPU bound&#34;</span>):
    <span style="color:#66d9ef">print</span>(label <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; started&#34;</span>)
    end <span style="color:#f92672">=</span> time() <span style="color:#f92672">+</span> s
    <span style="color:#66d9ef">while</span> time() <span style="color:#f92672">&lt;</span> end:
        sample(range(<span style="color:#ae81ff">1000</span>), <span style="color:#ae81ff">1000</span>)
    <span style="color:#66d9ef">print</span>(label <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; finished&#34;</span>)

child_threads <span style="color:#f92672">=</span> [Thread(target<span style="color:#f92672">=</span>io_bound, args<span style="color:#f92672">=</span>(s, str(s) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;s IO Bound&#34;</span>)) <span style="color:#66d9ef">for</span> s <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">4</span>)]
child_threads<span style="color:#f92672">.</span>append(Thread(target<span style="color:#f92672">=</span>cpu_bound, args<span style="color:#f92672">=</span>(<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#34;2s CPU Bound&#34;</span>)))

<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Start child threads&#34;</span>)
<span style="color:#66d9ef">for</span> t <span style="color:#f92672">in</span> child_threads:
    t<span style="color:#f92672">.</span>start()

<span style="color:#75715e"># We are in a main thread, so this is the equivalent of the poll task from async_example</span>
<span style="color:#66d9ef">while</span> True:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Poll&#34;</span>)
    live_threads <span style="color:#f92672">=</span> [t <span style="color:#66d9ef">for</span> t <span style="color:#f92672">in</span> child_threads <span style="color:#66d9ef">if</span> t<span style="color:#f92672">.</span>is_alive()]
    <span style="color:#66d9ef">if</span> len(live_threads) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>:
        sleep(<span style="color:#ae81ff">0.5</span>)
    <span style="color:#66d9ef">else</span>:
        <span style="color:#66d9ef">break</span>

<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Main thread completed&#34;</span>)
</code></pre></div><p>Output:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Start child threads
0s IO Bound started
0s IO Bound finished
1s IO Bound started
2s IO Bound started
3s IO Bound started
2s CPU Bound started
Poll
Poll
1s IO Bound finished
Poll
Poll
2s CPU Bound finished
2s IO Bound finished
Poll
Poll
3s IO Bound finished
Poll
Main thread completed
</code></pre></div><p>Here all threads are running independently spread throughout time.  The drawback is seen when considering the CPU bound task.  While it is running other threads are allowed to run.  It can be preempted mid operation and have things change under it&rsquo;s feet.  If this task needed to access resources also accessible to the other tasks then potentially complex synchronization implementation is required.  If for example it was placing partial results in a shared global location there would need to be additional code to synchronize access to that location across threads.  One positive aspect here is shown by the polling task: it is allowed to run without being starved by the CPU bound task.</p>
<p>Now the asynchronous version using asyncio - Python&rsquo;s coroutine support.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> asyncio
<span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> sample
<span style="color:#f92672">from</span> time <span style="color:#f92672">import</span> time

async <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">io_bound</span>(s, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;IO bound&#34;</span>):
    <span style="color:#66d9ef">print</span>(label <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; started&#34;</span>)
    await asyncio<span style="color:#f92672">.</span>sleep(s)
    <span style="color:#66d9ef">print</span>(label <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; finished&#34;</span>)

<span style="color:#75715e"># Example of a blocking task</span>
async <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">cpu_bound</span>(s, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;CPU bound&#34;</span>):
    <span style="color:#66d9ef">print</span>(label <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; started&#34;</span>)
    end <span style="color:#f92672">=</span> time() <span style="color:#f92672">+</span> s
    <span style="color:#66d9ef">while</span> time() <span style="color:#f92672">&lt;</span> end:
        sample(range(<span style="color:#ae81ff">1000</span>), <span style="color:#ae81ff">1000</span>)
    <span style="color:#66d9ef">print</span>(label <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; finished&#34;</span>)

async <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">poll</span>(s):
    <span style="color:#66d9ef">while</span> True:
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Poll&#34;</span>)
        await asyncio<span style="color:#f92672">.</span>sleep(s)
        active_tasks <span style="color:#f92672">=</span> [task <span style="color:#66d9ef">for</span> task <span style="color:#f92672">in</span> asyncio<span style="color:#f92672">.</span>Task<span style="color:#f92672">.</span>all_tasks() <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> task<span style="color:#f92672">.</span>done()]
        <span style="color:#66d9ef">if</span>  len(active_tasks) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>: <span style="color:#75715e"># this poll() and wait() for run_until_complete will always exist</span>
            <span style="color:#66d9ef">return</span>

loop <span style="color:#f92672">=</span> asyncio<span style="color:#f92672">.</span>get_event_loop()
tasks <span style="color:#f92672">=</span> [asyncio<span style="color:#f92672">.</span>ensure_future(io_bound(s, str(s) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;s IO Bound&#34;</span>)) <span style="color:#66d9ef">for</span> s <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">4</span>)]
tasks<span style="color:#f92672">.</span>append(asyncio<span style="color:#f92672">.</span>ensure_future(cpu_bound(<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#34;2s CPU Bound&#34;</span>)))
tasks<span style="color:#f92672">.</span>append(asyncio<span style="color:#f92672">.</span>ensure_future(poll(<span style="color:#f92672">.</span><span style="color:#ae81ff">5</span>)))

loop<span style="color:#f92672">.</span>run_until_complete(asyncio<span style="color:#f92672">.</span>wait(tasks))

<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Event loop completed&#34;</span>)
</code></pre></div><p>Output:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">0s IO Bound started
1s IO Bound started
2s IO Bound started
3s IO Bound started
2s CPU Bound started
2s CPU Bound finished
Poll
0s IO Bound finished
1s IO Bound finished
2s IO Bound finished
Poll
3s IO Bound finished
Event loop completed
</code></pre></div><p>The difference here is that the CPU bound tasks runs to completion without being interrupted.  You may ask yourself - isn&rsquo;t this a bad thing?  Yes it is for CPU bound tasks and that&rsquo;s why you shouldn&rsquo;t use coroutines to parallelize those.  But it illustrates the point that your code will not be interrupted willy-nilly!  Since execution won&rsquo;t be preempted you don&rsquo;t have to deal with implementing a synchronization strategy for shared resources.  All the tasks that have to wait for <em>external</em> IO bound processing to complete effectively have the work processed in parallel - slashing the overall wait time.  All of this is done very efficiently and without the headache of resource synchronization!  Waiting on IO bound external tasks is very common in web development, which is why this form of asynchronous processing has become all the rage.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://randalmoore.me/" >
    &copy;  Randy Moore 2020 
  </a>
    <div>







<a href="https://www.linkedin.com/in/randal-a-moore/" target="_blank" class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>


<a href="https://github.com/RandyMoore" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>







</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
